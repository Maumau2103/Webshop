<!DOCTYPE html>
<html>
    
<head>
	
    <title>SelfTaught - Anmeldung</title>
    <link rel="stylesheet" href="style.css">
	<script src="scripts.js"></script> 
	
    <style> 

	label{
		width:100px;
		display:inline-block;
		margin:4px;
		}
   	input[type=submit]{
		width: 100%;
		padding: 15px;
		margin: 10px;
		border-radius: 5px;
		border:none;
		background: rgb(129, 209, 255);
		cursor:pointer;
		font-family: Arial, Helvetica, sans-serif;
		font-size: 16px;
		}
	
    	.div1 {
		font-family: Arial, Helvetica, sans-serif; color: #333;
		background-color: white;
		width: 500px;
 		padding: 50px;
		margin: auto ;
		margin-top:100px;
		border-radius: 10px;
		position: relative; 
		align-items: center;  

		}
	    
	a{ 	
		color: #333;
		text-decoration: none;
		margin-left: 20px
		
		}
	</style>

</head>

<body onload="logOut()">
		
	<nav>
        <a href="index.html"> <img src="images/Selftaught_Logo.jpg" alt="logo"> </a>
        <ul>
            <li><a href="index.html"> Home </a></li>
            <li><a href="impressum.html"> Über Uns </a></li>
            <li><a class="active" href="anmeldung.html" id="Anmelden"> Anmelden </a></li>
            <li><a href="registrierung.html"> Registrieren </a></li>
        </ul>
    </nav>
	
	<br> <br>
	<h1> Anmeldung </h1>

    	<div class="div1">
    	    <form>          
		    <label for="uname" style="color:#333;text-align: left; margin-left: initial">E-Mail:</label>
		        <input type="text" id="email" name="uName" size="40" maxlength="30">
		        <br>
		    <label for="password" style="color:#333;text-align: left; margin-left: initial">Passwort:</label>
		        <input type="text" id="password" name="password" size="40" maxlength="30">
    	    </form>
	        <br>
	    <input type="submit" value="Anmelden" name="Anmelden" id="logIn"> <br> <br>
	    <p style=" text-align: left; color:#333; margin-left: initial; ">
	        Noch keinen Account?
	        <a href="registrierung.html" style="font-family: Arial, Helvetica, sans-serif; color:cornflowerblue"> Registrieren </a>
	    </p>
     </div> 
	 <br> <br> <br> <br>
</body>


<script type="module" >

    // Import the functions you need from the SDKs you need
    import {initializeApp } from "https://www.gstatic.com/firebasejs/9.16.0/firebase-app.js";
    import {getDatabase} from "https://www.gstatic.com/firebasejs/9.16.0/firebase-database.js";
    import { getAuth, createUserWithEmailAndPassword, signInWithEmailAndPassword, signOut } from "https://www.gstatic.com/firebasejs/9.16.0/firebase-auth.js";

    // TODO: Add SDKs for Firebase products that you want to use
    // https://firebase.google.com/docs/web/setup#available-libraries

    // Your web app's Firebase configuration
    const firebaseConfig = {
        apiKey: "AIzaSyAGdYmqeKOhGxPZYm8pelvKbG8Ms7uzPdE",
        authDomain: "webshop2023-ovgu.firebaseapp.com",
        databaseURL: "https://webshop2023-ovgu-default-rtdb.europe-west1.firebasedatabase.app",
        projectId: "webshop2023-ovgu",
        storageBucket: "webshop2023-ovgu.appspot.com",
        messagingSenderId: "255014201712",
        appId: "1:255014201712:web:a2ed39e090ce3db10107b5"
    };

    // Initialize Firebase
    const app = initializeApp(firebaseConfig);
    const database = getDatabase(app);
    const auth = getAuth();

    document.getElementById("logIn").addEventListener("click",function(){
		var email = document.getElementById("email").value;
		var password = document.getElementById("password").value;

		signInWithEmailAndPassword(auth, email, password)
		.then((userCredential)=>{
			const user = userCredential.user;
			sessionStorage.setItem("email", email);
			location.href = 'index.html';

		})
		.catch((error)=> {
			const errorCode = error.code;
			const errorMessage = error.message;
			alert("Benutzernahme und Passwort stimmen nicht überein!");
		})
	})
 


</script>

</html>
